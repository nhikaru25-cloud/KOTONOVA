<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>KOTONOVA | ãƒ‘ãƒ¼ã‚½ãƒŠãƒ«ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«è¨ºæ–­</title>
    <style>
        :root {
            --primary-pink: #FF8FA3;
            --deep-pink: #E91E63;
            --bg-color: #FAFAFA;
            --text-main: #333;
            --text-sub: #666;
        }

        body {
            margin: 0;
            background-color: var(--bg-color);
            color: var(--text-main);
            font-family: "Helvetica Neue", Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* ãƒ˜ãƒƒãƒ€ãƒ¼ */
        header {
            width: 100%;
            background: white;
            padding: 15px 0;
            text-align: center;
            border-bottom: 1px solid #eee;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        .brand-logo { font-size: 20px; font-weight: 800; letter-spacing: 1px; }
        .brand-sub { font-size: 10px; color: var(--primary-pink); font-weight: bold; margin-top: 3px; }

        .container {
            width: 100%;
            max-width: 500px;
            padding: 20px;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* ã‚¨ãƒ©ãƒ¼è¡¨ç¤º */
        #errorLog {
            width: 100%;
            background: #ffebee;
            color: #c62828;
            font-size: 12px;
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 10px;
            display: none;
            border: 1px solid #ef9a9a;
        }

        /* ã‚«ãƒ¡ãƒ©ãƒ•ãƒ¬ãƒ¼ãƒ  */
        .camera-frame {
            position: relative;
            width: 100%;
            max-width: 350px;
            aspect-ratio: 3/4;
            background: #000;
            border-radius: 20px;
            overflow: hidden;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
        }

        video {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transform: scaleX(-1);
        }

        .guide-overlay {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; z-index: 10;
        }
        .face-oval {
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            width: 50%; height: 60%;
            border: 2px dashed rgba(255, 255, 255, 0.9);
            border-radius: 50% 50% 50% 50% / 40% 40% 60% 60%;
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
        }

        /* è§£æãƒœã‚¿ãƒ³ */
        .btn-capture {
            background: linear-gradient(135deg, var(--primary-pink), var(--deep-pink));
            color: white;
            border: none;
            padding: 18px 50px;
            font-size: 15px;
            border-radius: 50px;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(233, 30, 99, 0.3);
            cursor: pointer;
            letter-spacing: 1px;
            transition: transform 0.1s;
        }
        .btn-capture:active { transform: scale(0.95); }

        /* çµæœãƒ¬ãƒãƒ¼ãƒˆ */
        #reportCard {
            display: none;
            width: 100%;
            background: white;
            border-radius: 15px;
            margin-top: 10px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.05);
            overflow: hidden;
            animation: slideUp 0.5s ease;
            padding-bottom: 40px; /* ä¸‹éƒ¨ä½™ç™½ç¢ºä¿ */
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .report-header {
            background: #333;
            color: white;
            padding: 20px;
            text-align: center;
        }
        .report-title { font-size: 18px; font-weight: bold; }
        .report-season { 
            font-size: 24px; 
            font-weight: 900; 
            color: var(--primary-pink); 
            margin-top: 10px; 
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .report-body { padding: 25px; }

        /* ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */
        .advice-box { margin-bottom: 30px; }
        .advice-head {
            font-size: 14px;
            font-weight: bold;
            color: var(--deep-pink);
            border-left: 4px solid var(--deep-pink);
            padding-left: 10px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }
        .advice-text {
            font-size: 13px;
            line-height: 1.8;
            color: var(--text-sub);
            text-align: justify;
        }

        /* ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆ */
        .palette-grid {
            display: flex;
            gap: 10px;
            margin-top: 10px;
            flex-wrap: wrap;
        }
        .color-chip {
            width: 40px; height: 40px;
            border-radius: 50%;
            border: 2px solid white;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        /* ã‚·ãƒ§ãƒƒãƒ—èª˜å°ã‚¨ãƒªã‚¢ */
        .shop-cta-box {
            background: #fdf2f5;
            border: 1px solid #ffd1dc;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            margin-bottom: 10px;
            /* é‡ãªã‚Šé˜²æ­¢ */
            position: relative;
            z-index: 50;
        }
        .shop-advice-title {
            font-size: 14px;
            font-weight: bold;
            color: var(--deep-pink);
            margin-bottom: 10px;
        }
        .shop-advice-text {
            font-size: 12px;
            color: var(--text-sub);
            margin-bottom: 20px;
            line-height: 1.6;
        }
        
        /* ç¢ºå®Ÿãªãƒœã‚¿ãƒ³ */
        .btn-shop {
            display: block;
            width: 100%;
            background: black;
            color: white;
            border: none;
            padding: 15px 0;
            border-radius: 50px;
            font-weight: bold;
            font-size: 14px;
            letter-spacing: 1px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            cursor: pointer;
            /* æœ€å‰é¢ã«é…ç½® */
            position: relative;
            z-index: 100;
        }
        .btn-shop:active { opacity: 0.8; transform: translateY(2px); }

    </style>
</head>
<body>

    <header>
        <div class="brand-logo">KOTONOVA</div>
        <div class="brand-sub">VISUAL DIRECTOR DIAGNOSIS</div>
    </header>

    <div class="container">
        
        <div id="errorLog"></div>

        <div id="scanScreen" style="width:100%; display:flex; flex-direction:column; align-items:center;">
            <div class="camera-frame">
                <video id="video" autoplay playsinline muted></video>
                <div class="guide-overlay">
                    <div class="face-oval"></div>
                    <div style="position:absolute; bottom:20px; width:100%; text-align:center; color:white; font-size:12px; font-weight:bold; text-shadow:0 1px 3px black;">
                        æ å†…ã«é¡”ã‚’åˆã‚ã›ã¦ãã ã•ã„
                    </div>
                </div>
                <canvas id="canvas" style="display:none;"></canvas>
            </div>
            
            <button class="btn-capture" id="scanBtn">è¨ºæ–­ã‚¹ã‚¿ãƒ¼ãƒˆ(ãƒ¡ã‚¤ã‚¯ã¯è½ã¨ã—ã¦ã‹ã‚‰è§£æã—ã¦ãã ã•ã„)</button>
            <p style="font-size:10px; color:#999; margin-top:15px;">â€»ç”»åƒã¯ã‚µãƒ¼ãƒãƒ¼ã«ä¿å­˜ã•ã‚Œã¾ã›ã‚“</p>
        </div>

        <div id="reportCard">
            <div class="report-header">
                <div class="report-title">YOUR TYPE</div>
                <div class="report-season" id="resSeason">---</div>
                <div style="font-size:11px; margin-top:5px; opacity:0.8;" id="resBase">---</div>
            </div>

            <div class="report-body">
                
                <div class="advice-box">
                    <div class="advice-head">ğŸ’ ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ãƒ»ã‚³ãƒ³ã‚»ãƒ—ãƒˆ</div>
                    <div class="advice-text" id="resTotal"></div>
                </div>

                <div class="advice-box">
                    <div class="advice-head">ğŸ’„ ãƒ¡ã‚¤ã‚¯ã‚¢ãƒƒãƒ—ãƒ»ãƒ¬ã‚·ãƒ”</div>
                    <div class="advice-text" id="resMake"></div>
                </div>

                <div class="advice-box">
                    <div class="advice-head">ğŸ¨ ãƒ‘ãƒ¼ã‚½ãƒŠãƒ«ãƒ»ãƒ‘ãƒ¬ãƒƒãƒˆ</div>
                    <div class="palette-grid" id="paletteBox"></div>
                    <p style="font-size:10px; color:#999; margin-top:5px;">ã“ã®è‰²ãŒã‚ãªãŸã®é€æ˜æ„Ÿã‚’æœ€å¤§åŒ–ã—ã¾ã™ã€‚</p>
                </div>

                <div class="advice-box" style="margin-bottom:0;">
                    <div class="advice-head">ğŸ‘— KOTONOVA ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°ææ¡ˆ</div>
                    
                    <div class="shop-cta-box">
                        <div class="shop-advice-title">ã‚ãªãŸãŒè¦‹ã‚‹ã¹ãã‚¢ã‚¤ãƒ†ãƒ ã¯ï¼Ÿ</div>
                        <div class="shop-advice-text" id="shopAdviceText">
                            </div>
                        
                        <button id="goShopBtn" class="btn-shop">
                            ä¼¼åˆã†ã‚¢ã‚¤ãƒ†ãƒ ã‚’æ¢ã—ã«è¡Œã â–¶
                        </button>
                    </div>
                </div>

                <button onclick="location.reload()" style="width:100%; margin-top:30px; padding:15px; background:#f0f0f0; border:none; border-radius:50px; font-weight:bold; color:#666;">ã‚‚ã†ä¸€åº¦è¨ºæ–­ã™ã‚‹</button>
            </div>
        </div>

    </div>

    <script>
        // --- è¨­å®š ---
        const video = document.getElementById('video');
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        const errorLog = document.getElementById('errorLog');

        // â˜…ã‚·ãƒ§ãƒƒãƒ—ã¸ã®ãƒªãƒ³ã‚¯å‡¦ç†ï¼ˆã“ã“ã‚’ç¢ºå®Ÿã«å‹•ãã‚ˆã†ã«ä¿®æ­£ï¼‰
        document.getElementById('goShopBtn').onclick = function() {
            // æ–°ã—ã„ã‚¿ãƒ–ã§é–‹ã
            window.open('https://kotonova.net', '_blank');
            // ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ãƒ–ãƒ­ãƒƒã‚¯å¯¾ç­–ã§ã€ã‚‚ã—é–‹ã‹ãªã‘ã‚Œã°åŒã˜ã‚¿ãƒ–ã§é–‹ã
            // window.location.href = 'https://kotonova.net'; 
        };

        // ã‚«ãƒ¡ãƒ©èµ·å‹•
        async function initCamera() {
            if (location.protocol !== 'https:' && location.hostname !== 'localhost') {
                 showError("ã‚¨ãƒ©ãƒ¼: ã‚«ãƒ¡ãƒ©ã‚’ä½¿ç”¨ã™ã‚‹ã«ã¯ https æ¥ç¶šãŒå¿…è¦ã§ã™ã€‚");
                 return;
            }
            try {
                const stream = await navigator.mediaDevices.getUserMedia({
                    video: { facingMode: "user", width: {ideal: 640}, height: {ideal: 480} },
                    audio: false
                });
                video.srcObject = stream;
                video.setAttribute("playsinline", true); 
                await video.play();
            } catch (err) {
                showError("ã‚«ãƒ¡ãƒ©ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ãŒæ‹’å¦ã•ã‚Œã¾ã—ãŸã€‚<br>ãƒ–ãƒ©ã‚¦ã‚¶ã®è¨­å®šã§è¨±å¯ã—ã¦ãã ã•ã„ã€‚");
            }
        }
        function showError(msg) {
            errorLog.style.display = 'block';
            errorLog.innerHTML = msg;
        }
        window.addEventListener('load', initCamera);

        // --- è¨ºæ–­å®Ÿè¡Œ ---
        document.getElementById('scanBtn').addEventListener('click', () => {
            if(video.readyState !== 4) return;

            canvas.width = video.videoWidth;
            canvas.height = video.videoHeight;
            ctx.scale(-1, 1);
            ctx.drawImage(video, -canvas.width, 0, canvas.width, canvas.height);
            
            const x = Math.floor(canvas.width * 0.35); 
            const y = Math.floor(canvas.height * 0.55);
            const p = ctx.getImageData(x, y, 1, 1).data;
            
            analyze(p[0], p[1], p[2]);

            document.getElementById('scanScreen').style.display = 'none';
            document.getElementById('reportCard').style.display = 'block';
            window.scrollTo({top: 0, behavior: 'smooth'});
        });

        // --- è©³ç´°è¨ºæ–­ãƒ­ã‚¸ãƒƒã‚¯ ---
        function analyze(r, g, b) {
            const brightness = (r + g + b) / 3;
            const warmScore = (r - b); 

            let result = {};
            
            if (warmScore > 20) {
                // ã‚¤ã‚¨ãƒ™
                if (brightness > 120) {
                    // æ˜¥
                    result = {
                        season: "SPRING (æ˜¥)",
                        base: "ã‚¤ã‚¨ãƒ­ãƒ¼ãƒ™ãƒ¼ã‚¹ / ãƒ©ã‚¤ãƒˆãƒˆãƒ¼ãƒ³",
                        total: "æ˜¥ã®æœ¨æ¼ã‚Œæ—¥ã®ã‚ˆã†ãªã€å¤šå¹¸æ„Ÿã‚ãµã‚Œã‚‹ã€Œé€æ˜æ„Ÿã€ãŒæ­¦å™¨ã®ã‚¿ã‚¤ãƒ—ã§ã™ã€‚æš—ã„è‰²ã§å¡—ã‚Šã¤ã¶ã™ã‚ˆã‚Šã‚‚ã€æœ¬æ¥ã®æ˜ã‚‹ã„è‚Œè³ªã‚’æ´»ã‹ã—ãŸãƒ„ãƒ¤è‚Œãƒ¡ã‚¤ã‚¯ãŒã€ã‚ãªãŸã®è¦ªã—ã¿ã‚„ã™ã•ã¨ã‚ªãƒ¼ãƒ©ã‚’æœ€å¤§åŒ–ã—ã¾ã™ã€‚",
                        make: "ã€è‚Œã€‘åšå¡—ã‚Šã¯NGã€‚ãƒ”ãƒ¼ãƒç³»ã®ä¸‹åœ°ã§è¡€è‰²ã‚’è¶³ã—ã€ç´ è‚Œæ„Ÿã‚’æ®‹ã—ã¦ã€‚<br>ã€ç›®ã€‘ã‚³ãƒ¼ãƒ©ãƒ«ã‚ªãƒ¬ãƒ³ã‚¸ã‚„ã‚´ãƒ¼ãƒ«ãƒ‰ãƒ–ãƒ©ã‚¦ãƒ³ã€‚å¤§ç²’ãƒ©ãƒ¡ã‚ˆã‚Šç¹Šç´°ãªã‚·ãƒãƒ¼è³ªæ„ŸãŒç³ã‚’è¼ã‹ã›ã¾ã™ã€‚<br>ã€å”‡ã€‘ãƒãƒƒãƒˆã‚ˆã‚Šã€ã¡ã‚…ã‚‹ã‚“ã¨ã—ãŸè³ªæ„Ÿã®ãƒ†ã‚£ãƒ³ãƒˆãƒªãƒƒãƒ—ãŒæ­£è§£ã€‚",
                        colors: ["#FF8FA3", "#FFD700", "#FF7F50", "#98FB98"],
                        shopAdvice: "ã‚ãªãŸã®æ˜ã‚‹ã„è‚Œè‰²ã«ã¯ã€**ã€Œãƒ›ãƒ¯ã‚¤ãƒˆã€ã‚„ã€Œé®®ã‚„ã‹ãªè‰²ã€**ã®ã‚¢ã‚¤ãƒ†ãƒ ãŒãƒ¬ãƒ•æ¿åŠ¹æœã‚’ç™ºæ®ã—ã€é¡”è‰²ã‚’ã•ã‚‰ã«æ˜ã‚‹ãè¦‹ã›ã¾ã™ã€‚<br>ã‚µã‚¤ãƒˆã§ã¯**ã€Soon, I will bloomã€ã‚·ãƒªãƒ¼ã‚ºã®ã‚ˆã†ãªã€æ˜ã‚‹ã„ã‚¢ãƒ¼ãƒˆãƒ¯ãƒ¼ã‚¯**ã®ã‚¢ã‚¤ãƒ†ãƒ ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ã€‚"
                    };
                } else {
                    // ç§‹
                    result = {
                        season: "AUTUMN (ç§‹)",
                        base: "ã‚¤ã‚¨ãƒ­ãƒ¼ãƒ™ãƒ¼ã‚¹ / ãƒ‡ã‚£ãƒ¼ãƒ—ãƒˆãƒ¼ãƒ³",
                        total: "ãƒªãƒƒãƒã§éƒ½ä¼šçš„ã€ã‚´ãƒ¼ã‚¸ãƒ£ã‚¹ãªé›°å›²æ°—ã‚’æŒã¤ã€Œãƒãƒ³ã‚µãƒ ç¾äººã€ã‚¿ã‚¤ãƒ—ã§ã™ã€‚æ·±ã¿ã®ã‚ã‚‹ã‚¢ãƒ¼ã‚¹ã‚«ãƒ©ãƒ¼ã‚’èº«ã«ã¤ã‘ã‚‹ã¨ã€ä¸€æ°—ã«æ´—ç·´ã•ã‚ŒãŸå¤§äººã®ä½™è£•ãŒç”Ÿã¾ã‚Œã¾ã™ã€‚",
                        make: "ã€è‚Œã€‘é™¶å™¨ã®ã‚ˆã†ãªã‚»ãƒŸãƒãƒƒãƒˆè‚ŒãŒæœ€å¼·ã€‚ãƒã‚¤ãƒ©ã‚¤ãƒˆã§ç«‹ä½“æ„Ÿã‚’ã€‚<br>ã€ç›®ã€‘ãƒ†ãƒ©ã‚³ãƒƒã‚¿ã€ã‚«ãƒ¼ã‚­ã€ãƒã‚¹ã‚¿ãƒ¼ãƒ‰ã€‚é™°å½±ï¼ˆã‚·ã‚§ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ï¼‰ã‚’é‡è¦–ã—ãŸã‚¹ãƒ¢ãƒ¼ã‚­ãƒ¼ãƒ¡ã‚¤ã‚¯ãŒä¼¼åˆã„ã¾ã™ã€‚<br>ã€å”‡ã€‘ãƒ–ãƒªãƒƒã‚¯ãƒ¬ãƒƒãƒ‰ï¼ˆãƒ¬ãƒ³ã‚¬è‰²ï¼‰ã‚„ãƒ–ãƒ©ã‚¦ãƒ³ç³»ã§å¼•ãç· ã‚ã¦ã€‚",
                        colors: ["#8B4513", "#DAA520", "#556B2F", "#CD5C5C"],
                        shopAdvice: "ã‚·ãƒƒã‚¯ãªãƒ¡ã‚¤ã‚¯ãŒå¾—æ„ãªã‚ãªãŸã«ã¯ã€**ã€Œãƒ–ãƒ©ãƒƒã‚¯ã€ã‚„ã€Œãƒ‡ã‚£ãƒ¼ãƒ—ã‚«ãƒ©ãƒ¼ã€**ã®ã‚¢ã‚¤ãƒ†ãƒ ãŒæ´—ç·´ã•ã‚ŒãŸã‚ªãƒ¼ãƒ©ã‚’ä½œã‚Šã¾ã™ã€‚<br>ã‚µã‚¤ãƒˆã§ã¯**ã€ãƒ­ã‚´ãƒˆãƒ©ãƒƒã‚¯ãƒ‘ãƒ³ãƒ„ã€ã®ã‚ˆã†ãªã€ã‚¯ãƒ¼ãƒ«ã§å¼•ãç· ã¾ã£ãŸãƒ‡ã‚¶ã‚¤ãƒ³**ã‚’é‡ç‚¹çš„ã«ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ã€‚"
                    };
                }
            } else {
                // ãƒ–ãƒ«ãƒ™
                if (brightness > 120) {
                    // å¤
                    result = {
                        season: "SUMMER (å¤)",
                        base: "ãƒ–ãƒ«ãƒ¼ãƒ™ãƒ¼ã‚¹ / ãƒ©ã‚¤ãƒˆãƒˆãƒ¼ãƒ³",
                        total: "é›¨ä¸ŠãŒã‚Šã®ç´«é™½èŠ±ã®ã‚ˆã†ãªã€å„šã’ã§ä¸Šå“ãªã€Œã‚¨ãƒ¬ã‚¬ãƒ³ãƒˆã€ã‚¿ã‚¤ãƒ—ã§ã™ã€‚å¼·ã„è‰²ã‚ˆã‚Šã‚‚ã€ãã™ã¿ã®ã‚ã‚‹ãƒ‘ã‚¹ãƒ†ãƒ«ã‚«ãƒ©ãƒ¼ï¼ˆãƒŸãƒ¥ãƒ¼ãƒ†ãƒƒãƒ‰ã‚«ãƒ©ãƒ¼ï¼‰ãŒã€ã‚ãªãŸã®é€æ˜æ„Ÿã‚’çˆ†ç™ºã•ã›ã¾ã™ã€‚",
                        make: "ã€è‚Œã€‘ãƒ”ãƒ³ã‚¯ã‚ªãƒ¼ã‚¯ãƒ«ç³»ã§é»„ãã™ã¿ã‚’ã‚«ãƒãƒ¼ã€‚ãƒ‘ã‚¦ãƒ€ãƒªãƒ¼ã§æŸ”ã‚‰ã‹ãªè‚Œè³ªã«ã€‚<br>ã€ç›®ã€‘ãƒ­ãƒ¼ã‚ºãƒ”ãƒ³ã‚¯ã€ãƒ©ãƒ™ãƒ³ãƒ€ãƒ¼ã€ã‚³ã‚³ã‚¢ãƒ–ãƒ©ã‚¦ãƒ³ã€‚ã‚¢ã‚¤ãƒ©ã‚¤ãƒ³ã¯ã‚°ãƒ¬ãƒ¼ç³»ã§å„ªã—ãç· ã‚ã¦ã€‚<br>ã€å”‡ã€‘é’ã¿ãƒ”ãƒ³ã‚¯ã‚„ãƒ­ãƒ¼ã‚ºç³»ãŒè‚Œã®ç™½ã•ã‚’å¼•ãç«‹ã¦ã¾ã™ã€‚",
                        colors: ["#D8BFD8", "#B0C4DE", "#DB7093", "#E6E6FA"],
                        shopAdvice: "å„šã’ãªé€æ˜æ„Ÿã‚’æŒã¤ã‚ãªãŸã«ã¯ã€**ã€Œæ·¡ã„è‰²ã€ã‚„ã€Œç¹Šç´°ãªã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯ã€**ãŒé‹å‘½çš„ã«ãƒãƒƒãƒã—ã¾ã™ã€‚<br>ã‚µã‚¤ãƒˆã§ã¯**KOTONOVAã®ã€ã‚¢ãƒ¼ãƒˆãƒ¯ãƒ¼ã‚¯ç³»ãƒ•ãƒ¼ãƒ‡ã‚£ãƒ¼ã€**ãªã©ã€å„ªã—ã„è‰²åˆã„ã®ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’æ¢ã—ã¦ã¿ã¦ãã ã•ã„ã€‚"
                    };
                } else {
                    // å†¬
                    result = {
                        season: "WINTER (å†¬)",
                        base: "ãƒ–ãƒ«ãƒ¼ãƒ™ãƒ¼ã‚¹ / ãƒ‡ã‚£ãƒ¼ãƒ—ãƒˆãƒ¼ãƒ³",
                        total: "é›ªæ™¯è‰²ã«å’²ãæ¤¿ã®ã‚ˆã†ãªã€ã‚·ãƒ£ãƒ¼ãƒ—ã§ãƒ¢ãƒ€ãƒ³ãªã€Œã‚¯ãƒ¼ãƒ«ãƒ“ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ¼ã€ã‚¿ã‚¤ãƒ—ã§ã™ã€‚ã¼ã‚“ã‚„ã‚Šã—ãŸè‰²ã‚ˆã‚Šã‚‚ã€ç™½ãƒ»é»’ãƒ»èµ¤ã¨ã„ã£ãŸã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆã®å¼·ã„è‰²ãŒã€ã‚ãªãŸã®å¼·ã„ç³ã®åŠ›ã‚’å¼•ãå‡ºã—ã¾ã™ã€‚",
                        make: "ã€è‚Œã€‘ç™½ã•ã‚’éš›ç«‹ãŸã›ã‚‹ãƒã‚¤ã‚«ãƒãƒ¼ã€‚ã‚·ã‚§ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚ˆã‚Šãƒã‚¤ãƒ©ã‚¤ãƒˆã§å…‰ã‚’é›†ã‚ã¦ã€‚<br>ã€ç›®ã€‘ã‚¢ã‚¤ã‚·ãƒ¼ãƒ–ãƒ«ãƒ¼ã‚„ãƒ•ãƒ¥ãƒ¼ã‚·ãƒ£ãƒ”ãƒ³ã‚¯ã€‚ã‚¢ã‚¤ãƒ©ã‚¤ãƒ³ã¯é»’ã§ã¯ã£ãã‚Šè·³ã­ä¸Šã’ã¦ã€‚<br>ã€å”‡ã€‘çœŸç´…ã‚„ãƒ¯ã‚¤ãƒ³ãƒ¬ãƒƒãƒ‰ãªã©ã€ä¸»å½¹ç´šã®æ¿ƒã„è‰²ãŒè² ã‘ã¾ã›ã‚“ã€‚",
                        colors: ["#000000", "#DC143C", "#4169E1", "#FFFFFF"],
                        shopAdvice: "ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆãŒå¾—æ„ãªã‚ãªãŸã«ã¯ã€**ã€Œãƒ¢ãƒãƒˆãƒ¼ãƒ³ã€ã‚„ã€Œã¯ã£ãã‚Šã—ãŸãƒ­ã‚´ã€**ã®ãƒ‡ã‚¶ã‚¤ãƒ³ãŒæœ€å¼·ã«ä¼¼åˆã„ã¾ã™ã€‚<br>ã‚µã‚¤ãƒˆã§ã¯**ã€ç™½Ã—é»’ã€ã®ãƒ©ã‚¤ãƒ³ä½¿ã„ãŒç‰¹å¾´çš„ãªã‚¢ã‚¤ãƒ†ãƒ ã‚„ã€ã‚¨ãƒƒã‚¸ã®åŠ¹ã„ãŸãƒ‡ã‚¶ã‚¤ãƒ³**ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ã€‚"
                    };
                }
            }

            document.getElementById('resSeason').innerText = result.season;
            document.getElementById('resBase').innerText = result.base;
            document.getElementById('resTotal').innerText = result.total;
            document.getElementById('resMake').innerHTML = result.make;
            document.getElementById('shopAdviceText').innerHTML = result.shopAdvice;
            
            const pBox = document.getElementById('paletteBox');
            pBox.innerHTML = "";
            result.colors.forEach(c => {
                const d = document.createElement('div');
                d.className = "color-chip";
                d.style.backgroundColor = c;
                pBox.appendChild(d);
            });
        }
    </script>
</body>
</html>

